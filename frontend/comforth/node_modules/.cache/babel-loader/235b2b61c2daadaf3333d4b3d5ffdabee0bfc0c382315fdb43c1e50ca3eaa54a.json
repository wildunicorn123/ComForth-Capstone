{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nconst theUrl = 'https://comforthdatabase.onrender.com/';\nimport axios from 'axios';\nimport { useCookies } from \"vue3-cookies\";\nconst cookies = useCookies();\nexport default createStore({\n  state: {\n    products: null,\n    product: null,\n    users: null,\n    user: null,\n    userLogin: false,\n    cart: []\n  },\n  mutations: {\n    setProducts(state, products) {\n      state.products = products;\n      console.log(products);\n    },\n    setProduct(state, product) {\n      state.product = product;\n      console.log(product);\n    },\n    setUsers(state, users) {\n      state.users = users;\n      console.log(users);\n    },\n    setUser(state, user) {\n      state.user = user;\n      console.log(user);\n    }\n  },\n  actions: {\n    async fetchProducts(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${theUrl}Products`);\n        if (data.results) {\n          context.commit(\"setProducts\", data.results);\n        } else {\n          sweetAlert({\n            title: \"Error\",\n            text: data.msg,\n            icon: \"error\",\n            timer: 2000\n          });\n        }\n      } catch (e) {\n        context.commit(\"setMessage\", \"An error occured\");\n        console.log(e);\n      }\n    },\n    async fetchProduct(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${theUrl}Products/:id`);\n        if (data.results) {\n          context.commit(\"setProduct\", data.results);\n        } else {\n          sweetAlert({\n            title: \"Error\",\n            text: data.msg,\n            icon: \"error\",\n            timer: 2000\n          });\n        }\n      } catch (e) {\n        context.commit(\"setMessage\", \"An error occured\");\n        console.log(e);\n      }\n    },\n    async fetchUsers(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${theUrl}Users`);\n        if (data.results) {\n          context.commit(\"setUsers\", data.results);\n        } else {\n          sweetAlert({\n            title: \"Error\",\n            text: data.msg,\n            icon: \"error\",\n            timer: 2000\n          });\n        }\n      } catch (e) {\n        context.commit(\"setMessage\", \"An error occured\");\n        console.log(e);\n      }\n    },\n    async fetchUser(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${theUrl}Users/:id`);\n        if (data.results) {\n          context.commit(\"setUser\", data.results);\n        } else {\n          sweetAlert({\n            title: \"Error\",\n            text: data.msg,\n            icon: \"error\",\n            timer: 2000\n          });\n        }\n      } catch (e) {\n        context.commit(\"setMessage\", \"An error occured\");\n        console.log(e);\n      }\n    },\n    async register(context, payload) {\n      let res = await axios.post(`${theUrl}register`, payload);\n      console.log('Result:', res);\n      let {\n        result,\n        msg,\n        err\n      } = await res.data;\n      if (msg) {\n        context.commit('setUsers', msg);\n        context.commit(`setSpinner`, false);\n      } else {\n        context.commit(`setMsg`, err);\n      }\n    },\n    async login(context, payload) {\n      try {\n        const {\n          msg,\n          token,\n          result\n        } = (await axios.post(`${theUrl}login`, payload)).data;\n        if (result) {\n          context.commit(\"setUser\", {\n            result,\n            msg\n          });\n          cookies.set(\"client\", {\n            msg,\n            token,\n            result\n          });\n          authuser.applyToken(token);\n          sweetAlert({\n            title: msg,\n            text: `Welcome back ${result?.firstName} ${result?.lastName}`,\n            icon: \"success\",\n            timer: 2000\n          });\n          router.push({\n            name: \"home\"\n          });\n        } else {\n          sweetAlert({\n            title: \"Error\",\n            text: msg,\n            icon: \"error\",\n            timer: 2000\n          });\n        }\n      } catch (e) {\n        context.commit(\"setMsg\", \"An error has occured\");\n      }\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","theUrl","axios","useCookies","cookies","state","products","product","users","user","userLogin","cart","mutations","setProducts","console","log","setProduct","setUsers","setUser","actions","fetchProducts","context","data","get","results","commit","sweetAlert","title","text","msg","icon","timer","e","fetchProduct","fetchUsers","fetchUser","register","payload","res","post","result","err","login","token","set","authuser","applyToken","firstName","lastName","router","push","name","modules"],"sources":["C:/Users/Student/Desktop/ComForth-Capstone/frontend/comforth/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\n\r\nconst theUrl = 'https://comforthdatabase.onrender.com/';\r\nimport axios from 'axios';\r\nimport { useCookies } from \"vue3-cookies\";\r\n\r\nconst cookies = useCookies();\r\n\r\nexport default createStore({\r\n  state: {\r\n    products : null,\r\n    product : null,\r\n    users : null,\r\n    user : null,\r\n    userLogin:false,\r\n    cart:[],\r\n  },\r\n  mutations: {\r\n    setProducts(state, products ){\r\n      state.products = products;\r\n      console.log(products)\r\n    },\r\n    setProduct(state, product ){\r\n      state.product = product;\r\n      console.log(product)\r\n    },\r\n    setUsers(state, users ){\r\n      state.users = users;\r\n      console.log(users)\r\n    },\r\n    setUser(state, user ){\r\n      state.user = user;\r\n      console.log(user)\r\n    },\r\n  },\r\n  actions: {\r\n    async fetchProducts(context) {\r\n      try{\r\n        const {data} = await axios.get(`${theUrl}Products`)\r\n        if (data.results) {\r\n          context.commit(\"setProducts\", data.results)\r\n        }else{\r\n          sweetAlert({\r\n            title:\"Error\",\r\n            text:data.msg,\r\n            icon:\"error\",\r\n            timer:2000\r\n          })\r\n        }\r\n      }catch(e){\r\n        context.commit(\"setMessage\", \"An error occured\")\r\n        console.log(e);\r\n      }\r\n    },\r\n    async fetchProduct(context) {\r\n      try{\r\n        const {data} = await axios.get(`${theUrl}Products/:id`)\r\n        if (data.results) {\r\n          context.commit(\"setProduct\", data.results)\r\n        }else{\r\n          sweetAlert({\r\n            title:\"Error\",\r\n            text:data.msg,\r\n            icon:\"error\",\r\n            timer:2000\r\n          })\r\n        }\r\n      }catch(e){\r\n        context.commit(\"setMessage\", \"An error occured\")\r\n        console.log(e);\r\n      }\r\n    },\r\n    async fetchUsers(context) {\r\n      try{\r\n        const {data} = await axios.get(`${theUrl}Users`)\r\n        if (data.results) {\r\n          context.commit(\"setUsers\", data.results)\r\n        }else{\r\n          sweetAlert({\r\n            title:\"Error\",\r\n            text:data.msg,\r\n            icon:\"error\",\r\n            timer:2000\r\n          })\r\n        }\r\n      }catch(e){\r\n        context.commit(\"setMessage\", \"An error occured\")\r\n        console.log(e);\r\n      }\r\n    },\r\n    async fetchUser(context) {\r\n      try{\r\n        const {data} = await axios.get(`${theUrl}Users/:id`)\r\n        if (data.results) {\r\n          context.commit(\"setUser\", data.results)\r\n        }else{\r\n          sweetAlert({\r\n            title:\"Error\",\r\n            text:data.msg,\r\n            icon:\"error\",\r\n            timer:2000\r\n          })\r\n        }\r\n      }catch(e){\r\n        context.commit(\"setMessage\", \"An error occured\")\r\n        console.log(e);\r\n      }\r\n    },\r\n    async register(context, payload) {\r\n      let res = await axios.post(`${theUrl}register`, payload);\r\n      console.log('Result:', res);\r\n      let {result, msg, err} = await res.data;\r\n      if(msg) {\r\n        context.commit('setUsers', msg)\r\n        context.commit(`setSpinner`, false);\r\n      }else{\r\n        context.commit(`setMsg`, err)\r\n      }\r\n    },\r\n    async login(context, payload) {\r\n      try {\r\n        const { msg, token, result } = (\r\n          await axios.post(`${theUrl}login`, payload)\r\n        ).data;\r\n        if (result) {\r\n          context.commit(\"setUser\", { result, msg });\r\n          cookies.set(\"client\", { msg, token, result });\r\n          authuser.applyToken(token);\r\n          sweetAlert({\r\n            title: msg,\r\n            text: `Welcome back ${result?.firstName} ${result?.lastName}`,\r\n            icon: \"success\",\r\n            timer: 2000,\r\n          });\r\n          router.push({ name: \"home\" });\r\n        } else {\r\n          sweetAlert({\r\n            title: \"Error\",\r\n            text: msg,\r\n            icon: \"error\",\r\n            timer: 2000,\r\n          });\r\n        }\r\n      } catch (e) {\r\n        context.commit(\"setMsg\", \"An error has occured\");\r\n      }\r\n    },\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}